<!DOCTYPE html>
<html>
<head>
	<!-- Fall 2021 -->
	<title>Class Schedule</title>
	<link rel="shortcut icon" href="https://www.sfsu.edu/favicon.ico">
	<style type="text/css">
		body {
			user-select: none;
			text-align: center;
			background-color: #231161;
		}
		table {
			width: 100%;
			margin-top: 6px;
			background-color: white;
			border-collapse: collapse;
		}
		table, th, td {
			border: 2px solid black;
		}
		.today {
			width: 13%;
		}
		.counter {
			padding: 3px;
			color: #ddd;
			font-weight: bold;
			border-width: 3px;
			border-radius: 4px;
			border-color: gold;
			border-style: solid;
		}
		.time {
			font-weight: normal;
		}
		.date {
			font-weight: normal;
		}
		.class {
			background-color: rgb(182,209,146);
		}
		.clickable {
			cursor: grab;
		}
		::-webkit-scrollbar {
			width: 5px;
			height: 5px;
			background-color: black;
		}

		::-webkit-scrollbar-thumb {
			border-radius: 2.5px;
			background: rgba(255, 255, 255, 0.6);
		}

		::-webkit-scrollbar-thumb:hover {
			background: rgba(255, 255, 255, 0.3);
		}
 	</style>
</head>
<body>
<p><a class="counter">Unable to fetch counter</a></p>
<table>
	<tr>
		<th style="width: 9%">Time<br><a class="time">Unable to fetch time</a></th>
		<th class="today">Sunday<br><a class="date">Unable to fetch date</a></th>
		<th class="today">Monday<br><a class="date">Unable to fetch date</a></th>
		<th class="today">Tuesday<br><a class="date">Unable to fetch date</a></th>
		<th class="today">Wednesday<br><a class="date">Unable to fetch date</a></th>
		<th class="today">Thursday<br><a class="date">Unable to fetch date</a></th>
		<th class="today">Friday<br><a class="date">Unable to fetch date</a></th>
		<th class="today">Saturday<br><a class="date">Unable to fetch date</a></th>
	</tr>
	<tr>
		<th rowspan="4">8:00 AM</th>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<th rowspan="4">9:00 AM</th>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td rowspan="5" class="class">AA S 216 - 02<br>Lecture<br>9:30 AM - 10:45 AM<br>Online Line</td>
		<td rowspan="5" class="class">MATH 324 - 03<br>Lecture<br>9:30 AM - 10:45 AM<br>Online Line</td>
		<td rowspan="5" class="class">AA S 216 - 02<br>Lecture<br>9:30 AM - 10:45 AM<br>Online Line</td>
		<td rowspan="5" class="class">MATH 324 - 03<br>Lecture<br>9:30 AM - 10:45 AM<br>Online Line</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<th rowspan="4">10:00 AM</th>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<th rowspan="4">11:00 AM</th>
		<td>&nbsp;</td>
		<td rowspan="5" class="class">WGS 150 - 01<br>Seminar<br>11:00 AM - 12:15 PM<br>Online Line</td>
		<td rowspan="5" class="class">AA S 106 - 03<br>Lecture<br>11:00 AM - 12:15 PM<br>Online Line</td>
		<td rowspan="5" class="class">WGS 150 - 01<br>Seminar<br>11:00 AM - 12:15 PM<br>Online Line</td>
		<td rowspan="5" class="class">AA S 106 - 03<br>Lecture<br>11:00 AM - 12:15 PM<br>Online Line</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<th rowspan="4">12:00 PM</th>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td rowspan="5" class="class">CSC 220 - 02<br>Lecture<br>12:30 PM - 1:45 PM<br>Online Line</td>
		<td>&nbsp;</td>
		<td rowspan="5" class="class">CSC 220 - 02<br>Lecture<br>12:30 PM - 1:45 PM<br>Online Line</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<th rowspan="4">1:00 PM</th>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<th rowspan="4">2:00 PM</th>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<th rowspan="4">3:00 PM</th>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<th rowspan="4">4:00 PM</th>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<th rowspan="4">5:00 PM</th>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<th rowspan="4">6:00 PM</th>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
		<td>&nbsp;</td>
	</tr>
</table>
</body>
<script type="text/javascript">
	window.addEventListener('load', counter);
	window.addEventListener('load', time);
	window.addEventListener('load', cal);
	window.addEventListener('load', re);

	// global variables
	let d = new Date().getDate();
	let tz = new Date().getTimezoneOffset() / 60;
	let o;

	// counter function
	function counter() {
		let c = document.getElementsByClassName("counter")[0];
		let y = new Date().getFullYear();
		let m = new Date().getMonth();
		let g = new Date().getDay();
		let n = new Date(y, m, d).getTime();
		let f = new Date(2021, 7, 23).getTime();
		let t = Math.floor((n - f)/86400000);
		let e = Math.floor(t/7) * 2;
		let r = (t - e) + 1;

		if (t % 7 == 5) {
			r--;
		} else if (t % 7 == 6) {
			r -= 2;
		}

			/* Fall 2021 */
		// Labor Day
		if (n >= 1630911600000) {
			r--;
		}
		// Veterans Day
		if (n >= 1636617600000) {
			r--;
		}
		// Thanksgiving Break
		if (n >= 1637568000000) {
			r--;
		}
		if (n >= 1637654400000) {
			r--;
		}
		if (n >= 1637740800000) {
			r--;
		}
		if (n >= 1637827200000) {
			r--;
		}
		if (n >= 1637913600000) {
			r--;
		}
		// End of semester
			// Week 1
		if (n >= 1639987200000) {
			r--;
		}
		if (n >= 1640073600000) {
			r--;
		}
		if (n >= 1640160000000) {
			r--;
		}
		if (n >= 1640246400000) {
			r--;
		}
		if (n >= 1640332800000) {
			r--;
		}
			// Week 2
		if (n >= 1640592000000) {
			r--;
		}
		if (n >= 1640678400000) {
			r--;
		}
		if (n >= 1640764800000) {
			r--;
		}
		if (n >= 1640851200000) {
			r--;
		}
		if (n >= 1640937600000) {
			r--;
		}
			// Week 3
		if (n >= 1641196800000) {
			r--;
		}
		if (n >= 1641283200000) {
			r--;
		}
		if (n >= 1641369600000) {
			r--;
		}
		if (n >= 1641456000000) {
			r--;
		}
		if (n >= 1641542400000) {
			r--;
		}
			// Week 4
		if (n >= 1641801600000) {
			r--;
		}
		if (n >= 1641888000000) {
			r--;
		}
		if (n >= 1641974400000) {
			r--;
		}
		if (n >= 1642060800000) {
			r--;
		}
		if (n >= 1642147200000) {
			r--;
		}
			// Week 5
		if (n >= 1642406400000) {
			r--;
		}
		if (n >= 1642492800000) {
			r--;
		}
		if (n >= 1642579200000) {
			r--;
		}
		if (n >= 1642665600000) {
			r--;
		}
		if (n >= 1642752000000) {
			r--;
		}
			/* Spring 2022 */
		// Spring Break
		if (n >= 1647846000000) {
			r--;
		}
		if (n >= 1647932400000) {
			r--;
		}
		if (n >= 1648018800000) {
			r--;
		}
		if (n >= 1648105200000) {
			r--;
		}
		if (n >= 1648191600000) {
			r--;
		}
		// Cesar Chavez Day
		if (n >= 1648710000000) {
			r--;
		}

		if (r % 10 == 1) {
			let s = "st";
		} else if (r % 10 == 2) {
			let s = "nd";
		} else if (r % 10 == 3) {
			let s = "rd";
		} else {
			let s = "th";
		}
		if (false) {
			c.innerHTML = "<u>#</u> days of learning";
		} else if (n < f) {
			c.innerHTML = "Soon<sup>TM</sup>";
		} else if (g == 0 || g == 6 || /* Fall 2020 */ /* Labor Day */ n == 1630911600000 || /* Veterans Day */ n == 1636617600000 || /* Thanksgiving Break */ n == 1637568000000 || n == 1637654400000 || n == 1637740800000 || n == 1637827200000 || n == 1637913600000 || /* End of semester *//*Week 1*/ n == 1639987200000 || n == 1640073600000 || n == 1640160000000 || n == 1640246400000 || n == 1640332800000 || /*Week 2*/ n == 1640592000000 || n == 1640678400000 || n == 1640764800000 || n == 1640851200000 || n == 1640937600000 || /*Week 3*/ n == 1641196800000 || n == 1641283200000 || n == 1641369600000 || n == 1641456000000 || n == 1641542400000 || /* Week 4 */ n == 1641801600000 || n == 1641888000000 || n == 1641974400000 || n == 1642060800000 || n == 1642147200000 || /* Week 5 */ n == 1642406400000 || n == 1642492800000 || n == 1642579200000 || n == 1642665600000 || n == 1642752000000 || /* Spring 2021 */ /* Spring Break */ n == 1647846000000 || n == 1647932400000 || n == 1648018800000 || n == 1648105200000 || n == 1648191600000 || /* Cesar Chavez Day */ n == 1648710000000) {
			c.innerHTML = "<u>" + r + "</u> days of learning";
		} else {
			c.innerHTML = "<u>" + r + s + "</u> day of learning";
		}
	}

	// time functions
	function time() {
		let offset = (daylight()) ? 7 - tz : 8 - tz;
		let h = new Date().getHours() - offset;
		h = hourFix(h);
		let m = new Date().getMinutes();
		let s = new Date().getSeconds();
		m = zero(m);
		s = zero(s);
		let ap = (h < 12) ? "AM" : "PM";
		h = apOffset(h);
		sd = (tz == 7 - offset) ? "PDT" : "PST";
		document.getElementsByClassName("time")[0].innerHTML = "<i>" + h + ":" + m + ":" + s + " " + ap + "</i>" + " " + sd;
		setTimeout(time, 0);
	}
	function hourFix(x) {
		if (x < 0) {
			x += 24;
			o = 1;
		} else if (x >= 24) {
			x -= 24;
			o = -1;
		} else {
			o = 0;
		}

		return x;
	}
	function apOffset(x) {
		if (x > 12) {
			x -= 12;
		} else if (x == 0) {
			x = 12;
		}

		return x;
	}
	function zero(x) {
		if (x < 10) {
			x = "0" + x;
		}

		return x;
	}
	function daylight() {
		let y = new Date().getFullYear();
		let ct = new Date().getTime();
		let ds; // daylight start time
		let de; // daylight end time

		// find second Sunday of March
		let c = 0;
		for (let x = 1; true; x++) {
			let d = new Date(y, 2, x, 2);

			if (d.getDay() == 0) {
				c++
			}

			if (c == 2) {
				ds = d.getTime();
				break;
			}
		}

		// find first Sunday of November
		for (let x = 1; true; x++) {
			let d = new Date(y, 10, x, 2);

			if (d.getDay() == 0) {
				de = d.getTime();
				break;
			}
		}

		return (ct > ds && ct < de) ? true : false;
	}

	// calendar functions
	function cal() {
		let t = document.getElementsByClassName("today");
		let n = document.getElementsByClassName("date");
		let ms = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
		let m = new Date().getMonth();
		let a = new Date().getDay() - o;
		a = dayFix(a);
		let fd = (d - ((o == 0) ? 0 : o));
		t[a].style.color = "red"
		let r = 0;
		n[a].innerHTML = ms[m] + " " + fd;
		while (a != 0) {
			a--;
			r++;
			if (fd - r < 1) {
				if (m == 0) {
					n[a].innerHTML = ms[11] + " " + (fd - r + 31);
				} else if (m == 2 || m == 4 || m == 6 || m == 7 || m == 9 || m == 11) {
					n[a].innerHTML = ms[m - 1] + " " + (fd - r + 30);
				} else if (m == 1 || m == 3 || m == 5 || m == 8 || m == 10) {
					n[a].innerHTML = ms[m - 1] + " " + (fd - r + 31);
				}
			} else {
				n[a].innerHTML = ms[m] + " " + (fd - r);
			}
		}
		a = new Date().getDay() - o;
		a = dayFix(a);
		r = 0;
		while (a != 6) {
			a++;
			r++;
			if (fd + r > 31 && (m == 0 || m == 2 || m == 4 || m == 6 || m == 7 || m == 9)) {
				n[a].innerHTML = ms[m + 1] + " " + (fd + r - 31);
			} else if (fd + r > 31 && m == 11) {
				n[a].innerHTML = ms[0] + " " + (fd + r - 31);
			} else if (fd + r > 30 && (m == 3 || m == 5 || m == 8 || m == 10)) {
				n[a].innerHTML = ms[m + 1] + " " + (fd + r - 30);
			} else if (fd + r > 29 && m == 1 && leap()) {
				n[a].innerHTML = ms[m + 1] + " " + (fd + r - 29);
			} else if (fd + r > 28 && m == 1 && !leap()) {
				n[a].innerHTML = ms[m + 1] + " " + (fd + r - 28);
			} else {
				n[a].innerHTML = ms[m] + " " + (fd + r);
			}
		}
	}
	function dayFix(x) {
		if (x < 0) {
			x += 7;
		} else if (x > 6) {
			x -= 7;
		}

		return x;
	}
	function leap() {
		y = new Date().getFullYear();
		return (y % 4 == 0 && (y % 100 != 0 || y % 400 == 0)) ? true : false;
	}
	function re() {
		if (new Date().getDate() != d || new Date().getTimezoneOffset() / 60 != tz) {
			d = new Date().getDate();
			tz = new Date().getTimezoneOffset() / 60;
			counter();
			time();
			cal();
		}
		setTimeout(re, 5000);
	}
</script>
</html>